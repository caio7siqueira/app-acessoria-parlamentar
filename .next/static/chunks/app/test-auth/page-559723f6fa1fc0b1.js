(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[212],{4710:function(e,t,n){Promise.resolve().then(n.bind(n,9528))},9528:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return TestAuthPage}});var r=n(7437),s=n(5403),i=n(3089),a=n(609);function TestAuthPage(){let{user:e,session:t,loading:n,signOut:l}=(0,s.a)();return n?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"Carregando..."})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto px-4",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-center mb-8",children:"Teste de Autentica\xe7\xe3o"}),(0,r.jsxs)(a.Zb,{className:"p-6 mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Status da Autentica\xe7\xe3o"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Usu\xe1rio logado:"})," ",e?"✅ Sim":"❌ N\xe3o"]}),e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Email:"})," ",e.email]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"ID:"})," ",e.id]})]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Sess\xe3o ativa:"})," ",t?"✅ Sim":"❌ N\xe3o"]}),t&&(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Expira em:"})," ",new Date(1e3*t.expires_at).toLocaleString()]})]})]}),(0,r.jsxs)(a.Zb,{className:"p-6 mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Cookies de Autentica\xe7\xe3o"}),(0,r.jsx)("div",{className:"bg-gray-100 p-4 rounded text-sm font-mono",children:"undefined"!=typeof document?document.cookie||"Nenhum cookie encontrado":"Carregando cookies..."})]}),(0,r.jsxs)(a.Zb,{className:"p-6 mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Informa\xe7\xf5es do Ambiente"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Ambiente:"})," ","production"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"URL atual:"})," ",window.location.href]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"User Agent:"})," ","undefined"!=typeof navigator?navigator.userAgent:"N/A"]})]})]}),(0,r.jsxs)("div",{className:"flex gap-4 justify-center",children:[e?(0,r.jsx)(i.z,{onClick:l,variant:"outline",children:"Fazer Logout"}):(0,r.jsx)(i.z,{onClick:()=>window.location.href="/login",children:"Ir para Login"}),(0,r.jsx)(i.z,{onClick:()=>window.location.href="/",children:"Ir para Dashboard"})]}),(0,r.jsx)("div",{className:"mt-8 text-center",children:(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Esta p\xe1gina ajuda a diagnosticar problemas de autentica\xe7\xe3o e redirecionamento."})})]})})}},3089:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var r=n(7437),s=n(2265),i=n(4949),a=n(6061),l=n(345);let o=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10",mobile:"h-12 px-6 text-base"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:n,variant:s,size:a,asChild:c=!1,...u}=e,d=c?i.g7:"button";return(0,r.jsx)(d,{className:(0,l.cn)(o({variant:s,size:a,className:n})),ref:t,...u})});c.displayName="Button"},609:function(e,t,n){"use strict";n.d(t,{Zb:function(){return a}});var r=n(7437),s=n(2265),i=n(345);let a=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...s})});a.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",n),...s})});l.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",n),...s})});o.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",n),...s})});c.displayName="CardDescription";let u=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",n),...s})});u.displayName="CardContent";let d=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",n),...s})});d.displayName="CardFooter"},5403:function(e,t,n){"use strict";n.d(t,{H:function(){return AuthProvider},a:function(){return useAuth}});var r=n(7437),s=n(2265),i=n(3525);let a=(0,s.createContext)({user:null,session:null,loading:!0,signOut:async()=>{}});function AuthProvider(e){let{children:t}=e,[n,l]=(0,s.useState)(null),[o,c]=(0,s.useState)(null),[u,d]=(0,s.useState)(!0),f=(0,i.Ng)();(0,s.useEffect)(()=>{let getSession=async()=>{try{let{data:{session:e}}=await f.auth.getSession();c(e),l((null==e?void 0:e.user)||null)}catch(e){console.error("Erro ao obter sess\xe3o:",e)}finally{d(!1)}};getSession();let{data:{subscription:e}}=f.auth.onAuthStateChange(async(e,t)=>{console.log("Auth event:",e),c(t),l((null==t?void 0:t.user)||null),d(!1)});return()=>e.unsubscribe()},[f]);let signOut=async()=>{try{await f.auth.signOut(),l(null),c(null)}catch(e){console.error("Erro ao fazer logout:",e)}};return(0,r.jsx)(a.Provider,{value:{user:n,session:o,loading:u,signOut},children:t})}let useAuth=()=>{let e=(0,s.useContext)(a);if(!e)throw Error("useAuth deve ser usado dentro de AuthProvider");return e}},345:function(e,t,n){"use strict";n.d(t,{cn:function(){return cn}});var r=n(7042),s=n(4769);function cn(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.m6)((0,r.W)(t))}},3525:function(e,t,n){"use strict";n.d(t,{Ng:function(){return getSupabaseClient}});var r=n(7893),s=n(2601);function validateEnvironment(){let e={NEXT_PUBLIC_SUPABASE_URL:"https://ivoxmhxcssydnfgormwn.supabase.co",NEXT_PUBLIC_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml2b3htaHhjc3N5ZG5mZ29ybXduIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMzUwMDYsImV4cCI6MjA3NzgxMTAwNn0.NLzp7E7pyyNPTmdXn63dQExDAA88bTTsyccB_Ba_CJM",NEXTAUTH_URL:"http://localhost:3000",NEXTAUTH_SECRET:"placeholder-for-client"},t={SUPABASE_SERVICE_ROLE_KEY:s.env.SUPABASE_SERVICE_ROLE_KEY,NEXT_PUBLIC_VAPID_PUBLIC_KEY:"1g138W2+IoKWZCG8UaT066dDvB9WRCT7/cC31PBI4STjHe27Qh7+w7MVoBn3q4iEBplinpZ458c3vuFLx2VFFEU=",VAPID_PRIVATE_KEY:s.env.VAPID_PRIVATE_KEY},n=[];if(e.NEXT_PUBLIC_SUPABASE_URL&&""!==e.NEXT_PUBLIC_SUPABASE_URL.trim()||n.push("NEXT_PUBLIC_SUPABASE_URL"),e.NEXT_PUBLIC_SUPABASE_ANON_KEY&&""!==e.NEXT_PUBLIC_SUPABASE_ANON_KEY.trim()||n.push("NEXT_PUBLIC_SUPABASE_ANON_KEY"),n.length>0){let e=["❌ Missing required environment variables (".concat("client","): ").concat(n.join(", ")),"","\uD83D\uDCDD Please add these variables to your .env.local file:",...n.map(e=>"   ".concat(e,"=your_value_here")),"","\uD83D\uDCD6 Check the .env.example file for reference."].join("\n");throw Error(e)}try{e.NEXT_PUBLIC_SUPABASE_URL&&new URL(e.NEXT_PUBLIC_SUPABASE_URL)}catch(e){throw Error("❌ Invalid URL format in environment variables. Please check NEXT_PUBLIC_SUPABASE_URL and NEXTAUTH_URL.")}return{supabaseUrl:e.NEXT_PUBLIC_SUPABASE_URL,supabaseAnonKey:e.NEXT_PUBLIC_SUPABASE_ANON_KEY,nextAuthUrl:e.NEXTAUTH_URL,nextAuthSecret:e.NEXTAUTH_SECRET,supabaseServiceRoleKey:t.SUPABASE_SERVICE_ROLE_KEY,vapidPublicKey:t.NEXT_PUBLIC_VAPID_PUBLIC_KEY,vapidPrivateKey:t.VAPID_PRIVATE_KEY}}let i=null,a=null;function getSupabaseClient(){if(!i){let e=validateEnvironment();i=(0,r.eI)(e.supabaseUrl,e.supabaseAnonKey,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}})}return i}getSupabaseClient(),function(){if(!a){let e=validateEnvironment();e.supabaseServiceRoleKey&&(a=(0,r.eI)(e.supabaseUrl,e.supabaseServiceRoleKey,{auth:{autoRefreshToken:!1,persistSession:!1}}))}}()},4949:function(e,t,n){"use strict";n.d(t,{g7:function(){return i}});var r=n(2265);function setRef(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var s=n(7437),i=function(e){let t=function(e){let t=r.forwardRef((e,t)=>{let{children:n,...s}=e;if(r.isValidElement(n)){let e,i;let a=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.props.ref:n.props.ref||n.ref,l=function(e,t){let n={...t};for(let r in t){let s=e[r],i=t[r],a=/^on[A-Z]/.test(r);a?s&&i?n[r]=(...e)=>{let t=i(...e);return s(...e),t}:s&&(n[r]=s):"style"===r?n[r]={...s,...i}:"className"===r&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}(s,n.props);return n.type!==r.Fragment&&(l.ref=t?function(...e){return t=>{let n=!1,r=e.map(e=>{let r=setRef(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];"function"==typeof n?n():setRef(e[t],null)}}}}(t,a):a),r.cloneElement(n,l)}return r.Children.count(n)>1?r.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),n=r.forwardRef((e,n)=>{let{children:i,...a}=e,l=r.Children.toArray(i),o=l.find(isSlottable);if(o){let e=o.props.children,i=l.map(t=>t!==o?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,s.jsx)(t,{...a,ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,i):null})}return(0,s.jsx)(t,{...a,ref:n,children:i})});return n.displayName=`${e}.Slot`,n}("Slot"),a=Symbol("radix.slottable");function isSlottable(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===a}},6061:function(e,t,n){"use strict";n.d(t,{j:function(){return cva}});var r=n(7042);let falsyToString=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=r.W,cva=(e,t)=>n=>{var r;if((null==t?void 0:t.variants)==null)return s(e,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:i,defaultVariants:a}=t,l=Object.keys(i).map(e=>{let t=null==n?void 0:n[e],r=null==a?void 0:a[e];if(null===t)return null;let s=falsyToString(t)||falsyToString(r);return i[e][s]}),o=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),c=null==t?void 0:null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...s}=t;return Object.entries(s).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...a,...o}[t]):({...a,...o})[t]===n})?[...e,n,r]:e},[]);return s(e,l,c,null==n?void 0:n.class,null==n?void 0:n.className)}}},function(e){e.O(0,[35,985,971,472,744],function(){return e(e.s=4710)}),_N_E=e.O()}]);