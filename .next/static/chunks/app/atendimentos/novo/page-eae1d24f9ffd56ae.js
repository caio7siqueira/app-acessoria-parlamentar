(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[102],{9292:function(e,n,t){Promise.resolve().then(t.bind(t,2877))},2877:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return NovoAtendimentoPage}});var a=t(7437),r=t(2265),s=t(4033),o=t(5764),l=t(8113),c=t(3089),i=t(609),u=t(6582),d=t(2099),m=t(1484),x=t(4509),b=t(1088);function NovoAtendimentoPage(){let e=(0,s.useRouter)(),{showToast:n}=(0,x.p)(),[t,h]=(0,r.useState)(""),[f,g]=(0,r.useState)({nome:"",genero:"N\xe3o informado",endereco:"",idade:void 0,telefone:"",solicitacao:"",prazo_data:"",prazo_urgencia:"Baixa",encaminhamento:"Secretaria",secretaria:"",status:"Pendente",canal:"Presencial"}),v=(0,o.D)({mutationFn:e=>d.s.criar(e),onSuccess:t=>{n(b.X.SUCCESS.ATENDIMENTO_CREATED,"success"),e.replace("/atendimentos")},onError:e=>{let t=(null==e?void 0:e.message)||b.X.ERROR.ATENDIMENTO_SAVE;h(t),n(t,"error")}}),onSubmit=async e=>{e.preventDefault(),h(""),await v.mutateAsync(f)};return(0,a.jsx)(l.c,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Novo Atendimento"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Cadastre um novo atendimento no sistema"})]}),(0,a.jsxs)(i.Zb,{className:"p-6",children:[t&&(0,a.jsx)("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-600 px-4 py-2 rounded",children:t}),(0,a.jsxs)("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",onSubmit:onSubmit,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),(0,a.jsx)(u.I,{value:f.nome,onChange:e=>g({...f,nome:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"G\xeanero"}),(0,a.jsxs)("select",{className:"input",value:f.genero,onChange:e=>g({...f,genero:e.target.value}),children:[(0,a.jsx)("option",{children:"Masculino"}),(0,a.jsx)("option",{children:"Feminino"}),(0,a.jsx)("option",{children:"N\xe3o informado"})]})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endere\xe7o"}),(0,a.jsx)(u.I,{value:f.endereco,onChange:e=>g({...f,endereco:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Idade"}),(0,a.jsx)(u.I,{type:"number",value:f.idade||"",onChange:e=>g({...f,idade:Number(e.target.value)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),(0,a.jsx)(u.I,{value:f.telefone||"",onChange:e=>g({...f,telefone:e.target.value})})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Solicita\xe7\xe3o"}),(0,a.jsx)("textarea",{className:"block w-full border border-gray-300 rounded-md p-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",rows:3,value:f.solicitacao,onChange:e=>g({...f,solicitacao:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prazo (data)"}),(0,a.jsx)(u.I,{type:"date",value:f.prazo_data||"",onChange:e=>g({...f,prazo_data:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Urg\xeancia"}),(0,a.jsx)("select",{className:"block w-full pl-3 pr-10 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white",value:f.prazo_urgencia,onChange:e=>g({...f,prazo_urgencia:e.target.value}),children:m.Qr.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Encaminhamento"}),(0,a.jsx)("select",{className:"block w-full pl-3 pr-10 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white",value:f.encaminhamento,onChange:e=>g({...f,encaminhamento:e.target.value}),children:m.Sv.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secretaria"}),(0,a.jsxs)("select",{className:"block w-full pl-3 pr-10 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white",value:f.secretaria||"",onChange:e=>g({...f,secretaria:e.target.value}),children:[(0,a.jsx)("option",{value:"",children:"N\xe3o se aplica"}),m.At.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,a.jsx)("select",{className:"block w-full pl-3 pr-10 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white",value:f.status,onChange:e=>g({...f,status:e.target.value}),children:m.CX.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Canal"}),(0,a.jsx)("select",{className:"block w-full pl-3 pr-10 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white",value:f.canal,onChange:e=>g({...f,canal:e.target.value}),children:m.n$.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:"md:col-span-2 flex justify-end gap-2",children:[(0,a.jsx)(c.z,{type:"button",variant:"outline",onClick:()=>e.back(),children:"Cancelar"}),(0,a.jsx)(c.z,{type:"submit",disabled:v.isLoading,children:v.isLoading?"Salvando...":"Salvar"})]})]})]})]})})}},9808:function(e,n,t){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=t(2265),r="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},s=a.useState,o=a.useEffect,l=a.useLayoutEffect,c=a.useDebugValue;function checkIfSnapshotChanged(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!r(e,t)}catch(e){return!0}}var i="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,n){return n()}:function(e,n){var t=n(),a=s({inst:{value:t,getSnapshot:n}}),r=a[0].inst,i=a[1];return l(function(){r.value=t,r.getSnapshot=n,checkIfSnapshotChanged(r)&&i({inst:r})},[e,t,n]),o(function(){return checkIfSnapshotChanged(r)&&i({inst:r}),e(function(){checkIfSnapshotChanged(r)&&i({inst:r})})},[e]),c(t),t};n.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:i},6272:function(e,n,t){"use strict";e.exports=t(9808)},6876:function(e,n,t){"use strict";t.d(n,{$:function(){return r}});var a=t(6272);let r=a.useSyncExternalStore},7798:function(e,n,t){"use strict";function shouldThrowError(e,n){return"function"==typeof e?e(...n):!!e}t.d(n,{L:function(){return shouldThrowError}})}},function(e){e.O(0,[35,406,985,529,247,113,542,971,472,744],function(){return e(e.s=9292)}),_N_E=e.O()}]);