(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[453],{2898:function(e,t,r){"use strict";r.d(t,{Z:function(){return createLucideIcon}});var n=r(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(e,t)=>{let r=(0,n.forwardRef)(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:l,...u},c)=>(0,n.createElement)("svg",{ref:c,...a,width:s,height:s,stroke:r,strokeWidth:o?24*Number(i)/Number(s):i,className:`lucide lucide-${toKebabCase(e)}`,...u},[...t.map(([e,t])=>(0,n.createElement)(e,t)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${e}`,r}},2549:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(2898);let a=(0,n.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1137:function(e,t,r){Promise.resolve().then(r.bind(r,8553))},8553:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return AuthCallback}});var n=r(7437),a=r(2265),s=r(4033),i=r(3525),o=r(4509);function AuthCallback(){let e=(0,s.useRouter)(),[t,r]=(0,a.useState)(""),[l,u]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1),h=(0,i.Ng)(),{showToast:E}=(0,o.p)(),handleSetPassword=async()=>{if(t.length<6){E("Senha deve ter no m\xednimo 6 caracteres","error");return}if(t!==l){E("As senhas n\xe3o coincidem","error");return}d(!0);try{let{error:r}=await h.auth.updateUser({password:t});if(r)throw r;E("Senha definida com sucesso!","success"),e.push("/")}catch(e){console.error("Erro definindo senha:",e),E("Erro ao definir senha","error")}finally{d(!1)}};return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,n.jsxs)("div",{className:"w-full max-w-md space-y-6 bg-white p-8 rounded-2xl shadow-lg",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-center",children:"Defina sua senha"}),(0,n.jsx)("input",{type:"password",placeholder:"Nova senha (m\xedn. 6 caracteres)",value:t,onChange:e=>r(e.target.value),className:"w-full p-4 border rounded-lg text-base"}),(0,n.jsx)("input",{type:"password",placeholder:"Confirmar senha",value:l,onChange:e=>u(e.target.value),className:"w-full p-4 border rounded-lg text-base"}),(0,n.jsx)("button",{onClick:handleSetPassword,disabled:c,className:"w-full p-4 bg-blue-600 text-white rounded-lg font-medium",children:c?"Aguarde...":"Criar Conta"})]})})}},4509:function(e,t,r){"use strict";r.d(t,{V:function(){return ToastProvider},p:function(){return useToast}});var n=r(7437),a=r(2265),s=r(2549);let i=(0,a.createContext)(void 0);function ToastProvider(e){let{children:t}=e,[r,o]=(0,a.useState)([]),l=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=Date.now().toString();o(n=>[...n,{id:r,message:e,type:t}]),setTimeout(()=>{o(e=>e.filter(e=>e.id!==r))},5e3)},[]),u=(0,a.useCallback)(e=>{o(t=>t.filter(t=>t.id!==e))},[]),getToastStyles=e=>{switch(e){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}};return(0,n.jsxs)(i.Provider,{value:{showToast:l},children:[t,(0,n.jsx)("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:r.map(e=>(0,n.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 rounded-lg border shadow-lg min-w-[300px] max-w-md ".concat(getToastStyles(e.type)," animate-in slide-in-from-right"),children:[(0,n.jsx)("span",{className:"text-sm font-medium",children:e.message}),(0,n.jsx)("button",{onClick:()=>u(e.id),className:"ml-3 text-current hover:opacity-70",children:(0,n.jsx)(s.Z,{className:"h-4 w-4"})})]},e.id))})]})}function useToast(){let e=(0,a.useContext)(i);if(!e)throw Error("useToast must be used within ToastProvider");return e}},3525:function(e,t,r){"use strict";r.d(t,{Ng:function(){return getSupabaseClient}});var n=r(7893),a=r(2601);function validateEnvironment(){let e={NEXT_PUBLIC_SUPABASE_URL:"https://ivoxmhxcssydnfgormwn.supabase.co",NEXT_PUBLIC_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml2b3htaHhjc3N5ZG5mZ29ybXduIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMzUwMDYsImV4cCI6MjA3NzgxMTAwNn0.NLzp7E7pyyNPTmdXn63dQExDAA88bTTsyccB_Ba_CJM",NEXTAUTH_URL:"http://localhost:3000",NEXTAUTH_SECRET:"placeholder-for-client"},t={SUPABASE_SERVICE_ROLE_KEY:a.env.SUPABASE_SERVICE_ROLE_KEY,NEXT_PUBLIC_VAPID_PUBLIC_KEY:"1g138W2+IoKWZCG8UaT066dDvB9WRCT7/cC31PBI4STjHe27Qh7+w7MVoBn3q4iEBplinpZ458c3vuFLx2VFFEU=",VAPID_PRIVATE_KEY:a.env.VAPID_PRIVATE_KEY},r=[];if(e.NEXT_PUBLIC_SUPABASE_URL&&""!==e.NEXT_PUBLIC_SUPABASE_URL.trim()||r.push("NEXT_PUBLIC_SUPABASE_URL"),e.NEXT_PUBLIC_SUPABASE_ANON_KEY&&""!==e.NEXT_PUBLIC_SUPABASE_ANON_KEY.trim()||r.push("NEXT_PUBLIC_SUPABASE_ANON_KEY"),r.length>0){let e=["❌ Missing required environment variables (".concat("client","): ").concat(r.join(", ")),"","\uD83D\uDCDD Please add these variables to your .env.local file:",...r.map(e=>"   ".concat(e,"=your_value_here")),"","\uD83D\uDCD6 Check the .env.example file for reference."].join("\n");throw Error(e)}try{e.NEXT_PUBLIC_SUPABASE_URL&&new URL(e.NEXT_PUBLIC_SUPABASE_URL)}catch(e){throw Error("❌ Invalid URL format in environment variables. Please check NEXT_PUBLIC_SUPABASE_URL and NEXTAUTH_URL.")}return{supabaseUrl:e.NEXT_PUBLIC_SUPABASE_URL,supabaseAnonKey:e.NEXT_PUBLIC_SUPABASE_ANON_KEY,nextAuthUrl:e.NEXTAUTH_URL,nextAuthSecret:e.NEXTAUTH_SECRET,supabaseServiceRoleKey:t.SUPABASE_SERVICE_ROLE_KEY,vapidPublicKey:t.NEXT_PUBLIC_VAPID_PUBLIC_KEY,vapidPrivateKey:t.VAPID_PRIVATE_KEY}}let s=null,i=null;function getSupabaseClient(){if(!s){let e=validateEnvironment();s=(0,n.eI)(e.supabaseUrl,e.supabaseAnonKey,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}})}return s}getSupabaseClient(),function(){if(!i){let e=validateEnvironment();e.supabaseServiceRoleKey&&(i=(0,n.eI)(e.supabaseUrl,e.supabaseServiceRoleKey,{auth:{autoRefreshToken:!1,persistSession:!1}}))}}()},4033:function(e,t,r){e.exports=r(94)}},function(e){e.O(0,[35,971,472,744],function(){return e(e.s=1137)}),_N_E=e.O()}]);