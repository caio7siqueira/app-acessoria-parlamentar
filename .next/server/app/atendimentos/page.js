(()=>{var e={};e.id=838,e.ids=[838],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},885:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=a(7096),s=a(6132),n=a(7284),i=a.n(n),o=a(2564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let d=["",{children:["atendimentos",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,6617)),"/workspaces/app-acessoria-parlamentar/src/app/atendimentos/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,2594)),"/workspaces/app-acessoria-parlamentar/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],c=["/workspaces/app-acessoria-parlamentar/src/app/atendimentos/page.tsx"],x="/atendimentos/page",m={require:a,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/atendimentos/page",pathname:"/atendimentos",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},87:(e,t,a)=>{Promise.resolve().then(a.bind(a,8346))},8346:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>AtendimentosPage});var r=a(784),s=a(3993),n=a(7114),i=a(7324),o=a(6658),l=a(1831),d=a(5441),c=a(9518),x=a(1922),m=a(517),u=a(2385),g=a(5718),p=a(6243),b=a(4312);function AtendimentosPage(){let e=(0,n.useRouter)(),[t,a]=(0,b._)("atendimentos_busca",""),[y,h]=(0,b._)("atendimentos_paginacao",{page:1,limit:10}),{data:f,isLoading:j}=(0,s.a)({queryKey:["atendimentos",t,y],queryFn:()=>i.s.buscarAtendimentos({busca:t},y)}),getStatusColor=e=>({Pendente:"bg-yellow-100 text-yellow-800 border-yellow-200","Em Andamento":"bg-blue-100 text-blue-800 border-blue-200",Concluído:"bg-green-100 text-green-800 border-green-200",Cancelado:"bg-red-100 text-red-800 border-red-200"})[e]||"bg-gray-100 text-gray-800 border-gray-200",getUrgenciaIcon=e=>"Urgente"===e||"Alta"===e?r.jsx(l.Z,{className:"w-4 h-4 text-red-500"}):r.jsx(d.Z,{className:"w-4 h-4 text-gray-400"}),getUrgenciaColor=e=>({Baixa:"text-gray-600",Média:"text-yellow-600",Alta:"text-orange-600",Urgente:"text-red-600 font-semibold"})[e]||"text-gray-600";return r.jsx(o.c,{children:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-neutral-900 pb-24 safe-area-bottom",children:[(0,r.jsxs)("div",{className:"sticky top-0 z-10 bg-white dark:bg-neutral-900 border-b border-gray-200 dark:border-neutral-800 px-4 py-4 space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Atendimentos"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Gerencie suas demandas"})]}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(c.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar por nome ou solicita\xe7\xe3o...",value:t,onChange:e=>a(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-neutral-700 rounded-xl bg-gray-50 dark:bg-neutral-800 text-base text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all mobile-input"})]})]}),(0,r.jsxs)("div",{className:"px-4 py-4",children:[j?r.jsx("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,r.jsxs)("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-4 animate-pulse border border-gray-100 dark:border-neutral-700",children:[r.jsx("div",{className:"h-6 bg-gray-200 dark:bg-neutral-700 rounded w-3/4 mb-3"}),r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-neutral-700 rounded w-full mb-2"}),r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-neutral-700 rounded w-2/3"})]},e))}):f?.data.length===0?(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-neutral-800 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(c.Z,{className:"w-8 h-8 text-gray-400"})}),r.jsx("p",{className:"text-gray-500 dark:text-gray-300 text-lg font-medium",children:"Nenhum atendimento encontrado"}),r.jsx("p",{className:"text-gray-400 dark:text-gray-400 text-sm mt-1",children:"Tente ajustar sua busca"})]}):r.jsx(g.M,{mode:"popLayout",children:r.jsx("div",{className:"space-y-3",children:f?.data.map((t,a)=>r.jsxs(p.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{delay:.05*a,duration:.2},onClick:()=>e.push(`/atendimentos/${t.id}`),className:"bg-white dark:bg-neutral-800 rounded-xl p-4 shadow-sm border border-gray-100 dark:border-neutral-700 active:scale-98 transition-all duration-200 cursor-pointer hover:shadow-md",role:"button","aria-label":`Ver detalhes do atendimento de ${t.nome}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 truncate",children:t.nome}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-2 mt-1",children:t.solicitacao})]}),r.jsx(x.Z,{className:"w-5 h-5 text-gray-400 flex-shrink-0 ml-2"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${getStatusColor(t.status)}`,children:t.status}),t.prazo_urgencia&&r.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium bg-gray-50 dark:bg-neutral-700/40 ${getUrgenciaColor(t.prazo_urgencia)}`,children:[getUrgenciaIcon(t.prazo_urgencia),t.prazo_urgencia]}),t.canal&&r.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gray-100 dark:bg-neutral-700/40 text-gray-700 dark:text-gray-200",children:t.canal})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[r.jsx(m.Z,{className:"w-4 h-4"}),r.jsx("span",{children:new Date(t.data_criacao).toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric"})})]})]},t.id))})}),f&&f.totalPages>1&&(0,r.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[r.jsx("button",{onClick:()=>h(e=>({...e,page:Math.max(1,e.page-1)})),disabled:1===y.page,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Anterior"}),(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:["P\xe1gina ",y.page," de ",f.totalPages]}),r.jsx("button",{onClick:()=>h(e=>({...e,page:Math.min(f.totalPages,e.page+1)})),disabled:y.page===f.totalPages,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Pr\xf3xima"})]})]}),r.jsx(p.E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:260,damping:20},className:"fixed bottom-20 right-4 z-20 md:bottom-6 md:right-6",children:(0,r.jsxs)("button",{onClick:()=>e.push("/atendimentos/novo"),className:"flex items-center gap-2 bg-primary-600 hover:bg-primary-700 text-white px-5 py-4 rounded-full shadow-lg hover:shadow-xl active:scale-95 transition-all duration-200 mobile-button","aria-label":"Novo atendimento",children:[r.jsx(u.Z,{className:"w-6 h-6"}),r.jsx("span",{className:"font-semibold hidden sm:inline",children:"Novo"})]})})]})})}},4312:(e,t,a)=>{"use strict";a.d(t,{_:()=>useLocalStorage});var r=a(9885);function useLocalStorage(e,t){let[a,s]=(0,r.useState)(()=>t);return(0,r.useEffect)(()=>{try{window.localStorage.setItem(e,JSON.stringify(a))}catch{}},[e,a]),[a,s]}},6617:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var r=a(5153);let s=(0,r.createProxy)(String.raw`/workspaces/app-acessoria-parlamentar/src/app/atendimentos/page.tsx`),{__esModule:n,$$typeof:i}=s,o=s.default,l=o}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[447,887,596,993,58,718,702,570,839,761,324],()=>__webpack_exec__(885));module.exports=a})();