"use strict";exports.id=323,exports.ids=[323],exports.modules={5323:(e,E,_)=>{_.d(E,{tG:()=>getSupabaseAdmin});var U=_(8771);function validateEnvironment(){let e={NEXT_PUBLIC_SUPABASE_URL:"https://ivoxmhxcssydnfgormwn.supabase.co",NEXT_PUBLIC_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml2b3htaHhjc3N5ZG5mZ29ybXduIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyMzUwMDYsImV4cCI6MjA3NzgxMTAwNn0.NLzp7E7pyyNPTmdXn63dQExDAA88bTTsyccB_Ba_CJM",NEXTAUTH_URL:process.env.NEXTAUTH_URL,NEXTAUTH_SECRET:process.env.NEXTAUTH_SECRET},E={SUPABASE_SERVICE_ROLE_KEY:process.env.SUPABASE_SERVICE_ROLE_KEY,NEXT_PUBLIC_VAPID_PUBLIC_KEY:"1g138W2+IoKWZCG8UaT066dDvB9WRCT7/cC31PBI4STjHe27Qh7+w7MVoBn3q4iEBplinpZ458c3vuFLx2VFFEU=",VAPID_PRIVATE_KEY:process.env.VAPID_PRIVATE_KEY},_=[];if(e.NEXT_PUBLIC_SUPABASE_URL&&""!==e.NEXT_PUBLIC_SUPABASE_URL.trim()||_.push("NEXT_PUBLIC_SUPABASE_URL"),e.NEXT_PUBLIC_SUPABASE_ANON_KEY&&""!==e.NEXT_PUBLIC_SUPABASE_ANON_KEY.trim()||_.push("NEXT_PUBLIC_SUPABASE_ANON_KEY"),e.NEXTAUTH_URL&&""!==e.NEXTAUTH_URL.trim()||_.push("NEXTAUTH_URL"),e.NEXTAUTH_SECRET&&""!==e.NEXTAUTH_SECRET.trim()||_.push("NEXTAUTH_SECRET"),_.length>0){let e=[`❌ Missing required environment variables (server): ${_.join(", ")}`,"","\uD83D\uDCDD Please add these variables to your .env.local file:",..._.map(e=>`   ${e}=your_value_here`),"","\uD83D\uDCD6 Check the .env.example file for reference."].join("\n");throw Error(e)}try{e.NEXT_PUBLIC_SUPABASE_URL&&new URL(e.NEXT_PUBLIC_SUPABASE_URL),e.NEXTAUTH_URL&&new URL(e.NEXTAUTH_URL)}catch(e){throw Error("❌ Invalid URL format in environment variables. Please check NEXT_PUBLIC_SUPABASE_URL and NEXTAUTH_URL.")}return{supabaseUrl:e.NEXT_PUBLIC_SUPABASE_URL,supabaseAnonKey:e.NEXT_PUBLIC_SUPABASE_ANON_KEY,nextAuthUrl:e.NEXTAUTH_URL,nextAuthSecret:e.NEXTAUTH_SECRET,supabaseServiceRoleKey:E.SUPABASE_SERVICE_ROLE_KEY,vapidPublicKey:E.NEXT_PUBLIC_VAPID_PUBLIC_KEY,vapidPrivateKey:E.VAPID_PRIVATE_KEY}}let s=null,A=null;function getSupabaseAdmin(){if(!A){let e=validateEnvironment();e.supabaseServiceRoleKey&&(A=(0,U.createClient)(e.supabaseUrl,e.supabaseServiceRoleKey,{auth:{autoRefreshToken:!1,persistSession:!1}}))}return A}(function(){if(!s){let e=validateEnvironment();s=(0,U.createClient)(e.supabaseUrl,e.supabaseAnonKey,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}})}})(),getSupabaseAdmin()}};