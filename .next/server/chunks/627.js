"use strict";exports.id=627,exports.ids=[627],exports.modules={5735:(e,t,r)=>{r.d(t,{h:()=>Combobox});var a=r(784),l=r(9885),n=r(467),o=r(9458),i=r(6206),s=r(9518),u=r(1264),d=r(5718),c=r(6243);function Combobox(e){let{items:t,placeholder:r="Selecionar...",searchPlaceholder:m="Buscar...",ariaLabel:p="Combobox",disabled:x,className:y,menuClassName:g,showChips:f=!0}=e,h=(0,l.useMemo)(()=>t.map(e=>"string"==typeof e?{label:e,value:e}:e),[t]),[b,v]=(0,l.useState)(!1),[k,w]=(0,l.useState)(""),[j,N]=(0,l.useState)(-1),C=(0,l.useRef)(null),D=(0,l.useRef)(null),E=(0,l.useRef)(null),L=(0,l.useId)(),S=(0,l.useMemo)(()=>{let e=k.trim().toLowerCase();return e?h.filter(t=>t.label.toLowerCase().includes(e)||t.value.toLowerCase().includes(e)):h},[h,k]),valueToLabel=e=>{let t=h.find(t=>t.value===e);return t?.label??e??""},isSelected=t=>e.multiple?e.value.includes(t):e.value===t,selectValue=t=>{if(e.multiple){let r=new Set(e.value);r.has(t)?r.delete(t):r.add(t),e.onChange(Array.from(r))}else e.onChange(e.value===t?void 0:t),v(!1)},removeChip=t=>{e.multiple&&e.onChange(e.value.filter(e=>e!==t))};(0,l.useEffect)(()=>{if(!b)return;let onDoc=e=>{let t=e.target;C.current?.contains(t)||D.current?.contains(t)||v(!1)};return document.addEventListener("mousedown",onDoc),()=>document.removeEventListener("mousedown",onDoc)},[b]),(0,l.useEffect)(()=>{b&&N(S.length?0:-1)},[b,S.length]);let M=`${L}-listbox`,$=j>=0?`${L}-opt-${j}`:void 0,T=(0,l.useMemo)(()=>{if(!e.multiple)return e.value?valueToLabel(e.value):r;{let t=e.value.map(e=>valueToLabel(e)).filter(Boolean);return 0===t.length?r:t.length<=2?t.join(", "):`${t.slice(0,2).join(", ")} +${t.length-2}`}},[e,r]),Z=(0,l.useMemo)(()=>e.multiple&&f?e.value.map(e=>({value:e,label:valueToLabel(e)})):[],[e,f]),A=e.multiple?e.value.length>0:!!e.value;return(0,a.jsxs)("div",{className:(0,n.cn)("relative",y),children:[(0,a.jsxs)("button",{ref:C,type:"button",className:(0,n.cn)("w-full flex items-center justify-between gap-2 px-3 py-3 rounded-lg border bg-white text-gray-900 dark:bg-neutral-800 dark:text-gray-100 dark:border-neutral-700","min-h-[44px] text-left transition-all",x&&"opacity-50 cursor-not-allowed",b&&"ring-2 ring-primary-500 border-primary-500"),"aria-haspopup":"listbox","aria-expanded":b,"aria-controls":M,"aria-activedescendant":$,onClick:()=>!x&&v(e=>!e),onKeyDown:e=>{if(!b){("ArrowDown"===e.key||"Enter"===e.key||" "===e.key)&&(e.preventDefault(),v(!0),setTimeout(()=>E.current?.focus(),0));return}if("Escape"===e.key){v(!1),C.current?.focus();return}if("ArrowDown"===e.key){e.preventDefault(),N(e=>Math.min(S.length-1,e+1));return}if("ArrowUp"===e.key){e.preventDefault(),N(e=>Math.max(0,e-1));return}if("Home"===e.key){e.preventDefault(),N(0);return}if("End"===e.key){e.preventDefault(),N(S.length-1);return}if("Enter"===e.key){e.preventDefault();let t=S[j];t&&selectValue(t.value);return}},"aria-label":p,children:[a.jsx("span",{className:(0,n.cn)("truncate flex-1",!e.value&&"text-gray-500 dark:text-gray-400"),children:T}),a.jsx(o.Z,{className:(0,n.cn)("w-4 h-4 text-gray-500 dark:text-gray-400 transition-transform",b&&"rotate-180")})]}),a.jsx(d.M,{children:f&&Z.length>0&&a.jsx(c.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex flex-wrap gap-2 mt-2",children:Z.map(e=>(0,a.jsxs)(c.E.span,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium bg-primary-100 text-primary-800 dark:bg-primary-900/30 dark:text-primary-300 border border-primary-200 dark:border-primary-800",children:[a.jsx("span",{className:"truncate max-w-[120px]",children:e.label}),a.jsx("button",{onClick:t=>{t.stopPropagation(),removeChip(e.value)},className:"hover:bg-primary-200 dark:hover:bg-primary-800 rounded p-0.5 transition-colors","aria-label":`Remover ${e.label}`,children:a.jsx(i.Z,{className:"w-3 h-3"})})]},e.value))})}),b&&(0,a.jsxs)(c.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:(0,n.cn)("absolute z-50 mt-2 w-full rounded-lg border bg-white dark:bg-neutral-800 border-gray-200 dark:border-neutral-700 shadow-lg",g),role:"presentation",children:[(0,a.jsxs)("div",{className:"p-2 border-b border-gray-200 dark:border-neutral-700",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx(s.Z,{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),a.jsx("input",{ref:E,value:k,onChange:e=>w(e.target.value),placeholder:m,className:"w-full pl-9 pr-3 py-2 rounded-md bg-gray-50 dark:bg-neutral-700 text-gray-900 dark:text-gray-100 placeholder:text-gray-400 border border-gray-200 dark:border-neutral-600 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),A&&(0,a.jsxs)("button",{onClick:()=>{e.multiple?e.onChange([]):e.onChange(void 0)},className:"mt-2 w-full flex items-center justify-center gap-2 px-3 py-1.5 text-xs font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors",children:[a.jsx(i.Z,{className:"w-3 h-3"}),"Limpar tudo"]})]}),(0,a.jsxs)("ul",{ref:D,id:M,role:"listbox","aria-multiselectable":e.multiple||void 0,className:"max-h-60 overflow-auto py-1",children:[0===S.length&&a.jsx("li",{className:"px-3 py-2 text-sm text-gray-500 dark:text-gray-400",children:"Nenhum resultado"}),S.map((e,t)=>{let r=isSelected(e.value),l=t===j;return(0,a.jsxs)("li",{id:`${L}-opt-${t}`,role:"option","aria-selected":r,onMouseEnter:()=>N(t),onMouseDown:e=>e.preventDefault(),onClick:()=>selectValue(e.value),className:(0,n.cn)("flex items-center justify-between px-3 py-2 cursor-pointer select-none transition-colors",l?"bg-primary-50 text-primary-700 dark:bg-neutral-700 dark:text-gray-100":"text-gray-700 dark:text-gray-200",r&&"font-medium"),children:[a.jsx("span",{className:"truncate",children:e.label}),r&&a.jsx(u.Z,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"})]},e.value)})]})]})]})}},4312:(e,t,r)=>{r.d(t,{_:()=>useLocalStorage});var a=r(9885);function useLocalStorage(e,t){let[r,l]=(0,a.useState)(()=>t);return(0,a.useEffect)(()=>{try{window.localStorage.setItem(e,JSON.stringify(r))}catch{}},[e,r]),[r,l]}}};